Assume we exploited the target system during the exploitation stage. As with the exploitation stage, we must again consider whether or not to utilize evasice testing in the post exploitation stage. We are already on the system in the post exploitation phase, making it much more difficult to avoid an alert. The post exploitation stage aims to obtain sensitive and secure relevent information from a local perspective and business relevant information that in most cases, requries higher privileges than a standard user. This stage includes the following components

> [!note] components of penetration testing process
> Evasive testing, information gathering, pillaging, vulnerability assessment, privilege escalation, persistence and data exfiltration (유출). 

1. Evasive testing 
   Divided into three categories, evasive, hybrid evasive, non evasive. Non-evasive testing for to perform an intrusive penetration test to get as much information as possible and the most in depth testing results. 
   Evasive testing is using the same commands and methods for non evasive testing but see if the security measures can identify and repsond to the actions performed. In hybrid evasive testing, we can test specific components and security measures that have been defined in advance. This is common when the customer only wants to test specific departments or servers to see if they can withstand the attacks. 
2. Information gathering
   In the post exploitation stage, we go through the information gathering and vulnerability assessment stages again, which we can consider as parts of the current stage. This is because the information we had up to this point was gathered from an external perspective not an internal one. From the local persepective, we have many more possibilities and alternatives to access certain information that is relevant to us. Therefore, the information gethering stage starts all over again from the loval perspective. We search and gather as much information as we can. The difference here is that e also enumerate the local network and local services such as printers, database servers, virtualization services, etc. Often we will find shares intended for employees to use to exchange and share data and files. The investigation of these servies and network components is called pillaging.
3. Pillaging
   Stage where we examine the role of the host in the corporate network. Hunt for sensitive data such as passwords on shares, local machines, in scripts, configuration files, password vaults, documents and even email. The main purpose of pillaging is to show the impact of successful exploitation and if we have not yet reached the goal of the assessment to find additional data such as passwords that can be inputs to other stages such as lateral movement. 
4. Persistence
   Access to the exploited host. This way, if the connection is interrupted, we can still access to it. This step is essential and often used as the first step before the information gathering and pillaging stages. 
5. Vulnerability assessment
   If we can access and have a good overview of the system, we can use the infromation about the system and its services and any other data stored on it ro repeat the vulnerability assessment stage, but this time from inside the system. We analyze the information and prioritize it accordingly. The goal we pursue next is the escalation of privileges. Again it is essential to distinguish between exploits that can harm the system and attacks against the services that do not cause any disruption. In doing so, we weight the components we have already gone through in the first vulnerability assessment stage.
6. Privilege escalation
   It represents the critical moment that can open many more new doors for us. Getting the highest possible privileges on the system or domain is often crucial. Therefore we want to get the privileges of the root or the domain administrator, local administrator/system becuase this will often allow us to move through the entire network without any restrictions. 
   However, it is essential to remember that the escalation of privileges does not always have to occur locally on the system. We can also obtain stored credentials during the information gathering stage from other users who are memebers of a higher privileged group. Exploiting these privileges to log in another use is also part of privilge escalation becuase we have escalated out privileges using the new set of credentials. 
7. Data exfiltration
   During the information gathering and pillaging stage, we will often be able to find among other things consdierable personal information and customer data. Some clinets will want to check whether ir is possible to exfiltrate these types of data .this means we try to transfer this information from the target system to our own. Security systems such as data loss prevention and endpoint detection and response help detect and prevent data exfiltration. In addition to network monitoring, many companies use encryption on hard drives to prevent external parties from viewing such information. Before exfilraring any actual data, we should chekc with the customer and our manager. It can often be enough to create some bogus data and exfiltrate it to our system. In addition to system monitoring, many companies use encryption on hard drives to prevent external parties from viewing such information. Before exfiltrating any actual data, we should check with the customer and our manager. Companies must adhere to data security security regulations depending on the type of data involved. These include, ![[Pasted image 20250226200956.png]]
![[Pasted image 20250226201012.png]]
The type of data does not have much significance when penetrating, however, required controls around it do. We should check with client to ensure that their systems are intended to catch the fake data type that we attempt to exfiltrate if we are successful, so we do not misrepresent anything in our report.
